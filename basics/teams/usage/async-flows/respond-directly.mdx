---
title: 异步路由团队直接响应
sidebarTitle: 成员直接响应
description: 这个示例演示了由AI智能体组成的异步路由团队，协同工作以回答不同语言的问题。该团队由六个专业的语言智能体（英语、日语、中文、西班牙语、法语和德语）组成，团队负责人根据输入语言将用户问题路由到相应的语言智能体。
---

<Steps>

  <Step title="创建 Python 文件">
    ```bash
    touch respond_directly.py
    ```
  </Step>

  <Step title="将以下代码添加到您的 Python 文件中">

    ```python respond_directly.py
    """
    这个示例演示了由AI智能体组成的路由团队，协同工作以回答不同语言的问题。

    该团队由六个专业智能体组成：
    1. 英语智能体 - 只能用英语回答
    2. 日语智能体 - 只能用日语回答
    3. 中文智能体 - 只能用中文回答
    4. 西班牙语智能体 - 只能用西班牙语回答
    5. 法语智能体 - 只能用法语回答
    6. 德语智能体 - 只能用德语回答

    团队负责人将用户的问题路由到相应的语言智能体。它只能转发问题，不能自己回答。
    """

    import asyncio

    from agno.agent import Agent
    from agno.models.anthropic import Claude
    from agno.models.deepseek import DeepSeek
    from agno.models.openai import OpenAIChat
    from agno.team.team import Team

    english_agent = Agent(
        name="English Agent",
        role="You only answer in English",
        model=OpenAIChat(id="gpt-5-mini"),
    )
    japanese_agent = Agent(
        name="Japanese Agent",
        role="You only answer in Japanese",
        model=DeepSeek(id="deepseek-chat"),
    )
    chinese_agent = Agent(
        name="Chinese Agent",
        role="You only answer in Chinese",
        model=DeepSeek(id="deepseek-chat"),
    )
    spanish_agent = Agent(
        name="Spanish Agent",
        role="You can only answer in Spanish",
        model=OpenAIChat(id="gpt-5-mini"),
    )
    french_agent = Agent(
        name="French Agent",
        role="You can only answer in French",
        model=OpenAIChat(id="gpt-5-mini"),
    )
    german_agent = Agent(
        name="German Agent",
        role="You can only answer in German",
        model=Claude("claude-3-5-sonnet-20241022"),
    )

    multi_language_team = Team(
        name="Multi Language Team",
        model=OpenAIChat("gpt-5-mini"),
        members=[
            english_agent,
            spanish_agent,
            japanese_agent,
            french_agent,
            german_agent,
            chinese_agent,
        ],
        markdown=True,
        respond_directly=True,
        instructions=[
            "You are a language router that directs questions to the appropriate language agent.",
            "If the user asks in a language whose agent is not a team member, respond in English with:",
            "'I can only answer in the following languages: English, Spanish, Japanese, French and German. Please ask your question in one of these languages.'",
            "Always check the language of the user's input before routing to an agent.",
            "For unsupported languages like Italian, respond in English with the above message.",
        ],
        show_members_responses=True,
    )


    async def main():
        """Main async function demonstrating team routing mode."""
        # Ask "How are you?" in all supported languages
        # await multi_language_team.aprint_response(
        #     "How are you?", stream=True  # English
        # )

        # await multi_language_team.aprint_response(
        #     "你好吗？", stream=True  # Chinese
        # )

        # await multi_language_team.aprint_response(
        #     "お元気ですか?", stream=True  # Japanese
        # )

        await multi_language_team.aprint_response(input="Comment allez-vous?")

        # await multi_language_team.aprint_response(
        #     "Wie geht es Ihnen?", stream=True  # German
        # )

        # await multi_language_team.aprint_response(
        #     "Come stai?", stream=True  # Italian
        # )


    if __name__ == "__main__":
        asyncio.run(main())
    ```
  </Step>

  <Snippet file="create-venv-step.mdx" />

  <Step title="安装依赖库">
    ```bash
    pip install -U agno openai
    ```
  </Step>

  <Step title="设置您的 OpenAI API 密钥">

    <CodeGroup>

    ```bash Mac/Linux
export OPENAI_API_KEY="your_openai_api_key_here"
    ```

    ```bash Windows
$Env:OPENAI_API_KEY="your_openai_api_key_here"
    ```
    </CodeGroup>
  </Step>
  <Step title="运行示例">
    <CodeGroup>
    ```bash Mac
    python respond_directly.py
    ```
    
    ```bash Windows
    python respond_directly.py
    ```
    </CodeGroup>
  </Step>

  <Step title="查看所有示例">
  探索 Agno 仓库中所有可用的示例。点击下面的链接在 GitHub 上查看代码：

  <Link href="https://github.com/agno-agi/agno/tree/main/cookbook/04_teams/async_flows" target="_blank">
    GitHub 上的 Agno 示例代码
  </Link>
</Step>
</Steps>


