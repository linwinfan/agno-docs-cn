---
title: å¼‚æ­¥å›¢é˜Ÿäº‹ä»¶ç›‘æ§
sidebarTitle: äº‹ä»¶æµå¼ä¼ è¾“
description: è¿™ä¸ªç¤ºä¾‹æ¼”ç¤ºäº†å¦‚ä½•å¼‚æ­¥å¤„ç†å’Œç›‘æ§å›¢é˜Ÿäº‹ä»¶ï¼Œåœ¨å¼‚æ­¥å›¢é˜Ÿæ‰§è¡Œè¿‡ç¨‹ä¸­æ•è·å„ç§äº‹ä»¶ï¼ŒåŒ…æ‹¬å·¥å…·è°ƒç”¨ã€è¿è¡ŒçŠ¶æ€å’Œå†…å®¹ç”Ÿæˆã€‚
---

<Steps>

  <Step title="åˆ›å»º Python æ–‡ä»¶">
    ```bash
    touch stream_events.py
    ```
  </Step>

  <Step title="å°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ°æ‚¨çš„ Python æ–‡ä»¶ä¸­">

    ```python stream_events.py
    """
    è¿™ä¸ªç¤ºä¾‹æ¼”ç¤ºäº†å¦‚ä½•å¼‚æ­¥å¤„ç†å’Œç›‘æ§å›¢é˜Ÿäº‹ä»¶ã€‚

    å±•ç¤ºäº†å¦‚ä½•åœ¨å¼‚æ­¥å›¢é˜Ÿæ‰§è¡Œè¿‡ç¨‹ä¸­æ•è·å’Œå“åº”å„ç§äº‹ä»¶ï¼Œ
    åŒ…æ‹¬å·¥å…·è°ƒç”¨ã€è¿è¡ŒçŠ¶æ€å’Œå†…å®¹ç”Ÿæˆäº‹ä»¶ã€‚
    """

    import asyncio
    from uuid import uuid4

    from agno.agent import RunEvent
    from agno.agent.agent import Agent
    from agno.models.anthropic.claude import Claude
    from agno.models.openai import OpenAIChat
    from agno.team.team import Team, TeamRunEvent
    from agno.tools.duckduckgo import DuckDuckGoTools
    from agno.tools.hackernews import HackerNewsTools

    # Hacker News search agent
    hacker_news_agent = Agent(
        id="hacker-news-agent",
        name="Hacker News Agent",
        role="Search Hacker News for information",
        tools=[HackerNewsTools()],
        instructions=[
            "Find articles about the company in the Hacker News",
        ],
    )

    # Web search agent
    website_agent = Agent(
        id="website-agent",
        name="Website Agent",
        role="Search the website for information",
        model=OpenAIChat(id="gpt-5-mini"),
        tools=[DuckDuckGoTools()],
        instructions=[
            "Search the website for information",
        ],
    )

    # Generate unique IDs
    user_id = str(uuid4())
    id = str(uuid4())

    # Create team with event monitoring
    company_info_team = Team(
        name="Company Info Team",
        id=id,
        model=Claude(id="claude-3-7-sonnet-latest"),
        members=[
            hacker_news_agent,
            website_agent,
        ],
        markdown=True,
        instructions=[
            "You are a team that finds information about a company.",
            "First search the web and Hacker News for information about the company.",
            "If you can find the company's website URL, then scrape the homepage and the about page.",
        ],
        show_members_responses=True,
    )


    async def run_team_with_events(prompt: str):
        """
        Run the team and capture all events for monitoring and debugging.

        This function demonstrates how to handle different types of events:
        - Team-level events (run start/completion, tool calls)
        - Member-level events (agent tool calls)
        - Content generation events
        """
        content_started = False

        async for run_response_event in company_info_team.arun(
            prompt,
            stream=True,
            stream_events=True,
        ):
            # Handle team-level events
            if run_response_event.event in [
                TeamRunEvent.run_started,
                TeamRunEvent.run_completed,
            ]:
                print(f"\nğŸ¯ TEAM EVENT: {run_response_event.event}")

            # Handle team tool call events
            if run_response_event.event in [TeamRunEvent.tool_call_started]:
                print(f"\nğŸ”§ TEAM TOOL STARTED: {run_response_event.tool.tool_name}")
                print(f"   Args: {run_response_event.tool.tool_args}")

            if run_response_event.event in [TeamRunEvent.tool_call_completed]:
                print(f"\nâœ… TEAM TOOL COMPLETED: {run_response_event.tool.tool_name}")
                print(f"   Result: {run_response_event.tool.result}")

            # Handle member-level events
            if run_response_event.event in [RunEvent.tool_call_started]:
                print(f"\nğŸ¤– MEMBER TOOL STARTED: {run_response_event.agent_id}")
                print(f"   Tool: {run_response_event.tool.tool_name}")
                print(f"   Args: {run_response_event.tool.tool_args}")

            if run_response_event.event in [RunEvent.tool_call_completed]:
                print(f"\nâœ… MEMBER TOOL COMPLETED: {run_response_event.agent_id}")
                print(f"   Tool: {run_response_event.tool.tool_name}")
                print(
                    f"   Result: {run_response_event.tool.result[:100]}..."
                )  # Truncate for readability

            # Handle content generation
            if run_response_event.event in [TeamRunEvent.run_content]:
                if not content_started:
                    print("\nğŸ“ CONTENT:")
                    content_started = True
                else:
                    print(run_response_event.content, end="")


    if __name__ == "__main__":
        asyncio.run(
            run_team_with_events(
                "Write me a full report on everything you can find about Agno, the company building AI agent infrastructure.",
            )
        )
    ```

  </Step>

  <Snippet file="create-venv-step.mdx" />

  <Step title="å®‰è£…ä¾èµ–åº“">
    ```bash
    pip install -U agno openai ddgs anthropic
    ```
  </Step>

  <Step title="è®¾ç½®æ‚¨çš„ API å¯†é’¥">

    <CodeGroup>

    ```bash Mac/Linux
export OPENAI_API_KEY="your_openai_api_key_here"
export ANTHROPIC_API_KEY="your_anthropic_api_key_here"
    ```

    ```bash Windows
$Env:OPENAI_API_KEY="your_openai_api_key_here"
$Env:ANTHROPIC_API_KEY="your_anthropic_api_key_here"
    ```
    </CodeGroup>
  </Step>
  <Step title="è¿è¡Œç¤ºä¾‹">
    <CodeGroup>
    ```bash Mac
    python stream_events.py
    ```
    
    ```bash Windows
    python stream_events.py
    ```
    </CodeGroup>
  </Step>

  <Step title="æŸ¥çœ‹æ‰€æœ‰ç¤ºä¾‹">
  æ¢ç´¢ Agno ä»“åº“ä¸­æ‰€æœ‰å¯ç”¨çš„ç¤ºä¾‹ã€‚ç‚¹å‡»ä¸‹é¢çš„é“¾æ¥åœ¨ GitHub ä¸ŠæŸ¥çœ‹ä»£ç ï¼š

  <Link href="https://github.com/agno-agi/agno/tree/main/cookbook/04_teams/streaming" target="_blank">
    GitHub ä¸Šçš„ Agno ç¤ºä¾‹ä»£ç 
  </Link>
</Step>
</Steps>


