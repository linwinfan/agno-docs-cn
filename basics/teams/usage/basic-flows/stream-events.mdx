---
title: å›¢é˜Ÿäº‹ä»¶ç›‘æ§
sidebarTitle: äº‹ä»¶æµå¼ä¼ è¾“
description: è¿™ä¸ªç¤ºä¾‹æ¼”ç¤ºäº†å¦‚ä½•åœ¨å›¢é˜Ÿæ‰§è¡Œè¿‡ç¨‹ä¸­ç›‘æ§å’Œå¤„ç†ä¸åŒç±»å‹çš„äº‹ä»¶ï¼ŒåŒ…æ‹¬å·¥å…·è°ƒç”¨ã€è¿è¡ŒçŠ¶æ€å’Œå†…å®¹ç”Ÿæˆäº‹ä»¶ã€‚
---

<Steps>

  <Step title="åˆ›å»º Python æ–‡ä»¶">
    ```bash
    touch stream_events.py
    ```
  </Step>

  <Step title="å°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ°æ‚¨çš„ Python æ–‡ä»¶ä¸­">

    ```python stream_events.py
    import asyncio
    from uuid import uuid4

    from agno.agent import RunEvent
    from agno.agent.agent import Agent
    from agno.models.anthropic.claude import Claude

    from agno.models.openai import OpenAIChat
    from agno.team import Team, TeamRunEvent
    from agno.tools.duckduckgo import DuckDuckGoTools
    from agno.tools.hackernews import HackerNewsTools

    hacker_news_agent = Agent(
        id="hacker-news-agent",
        name="Hacker News æ™ºèƒ½ä½“",
        role="åœ¨ Hacker News ä¸­æœç´¢ä¿¡æ¯",
        tools=[HackerNewsTools()],
        instructions=[
            "åœ¨ Hacker News ä¸­æŸ¥æ‰¾å…³äºå…¬å¸çš„æ–‡ç« ",
        ],
    )

    website_agent = Agent(
        id="website-agent",
        name="ç½‘ç«™æ™ºèƒ½ä½“",
        role="åœ¨ç½‘ç«™ä¸Šæœç´¢ä¿¡æ¯",
        model=OpenAIChat(id="gpt-5-mini"),
        tools=[DuckDuckGoTools()],
        instructions=[
            "åœ¨ç½‘ç«™ä¸Šæœç´¢ä¿¡æ¯",
        ],
    )

    user_id = str(uuid4())
    id = str(uuid4())

    company_info_team = Team(
        name="å…¬å¸ä¿¡æ¯å›¢é˜Ÿ",
        id=id,
        user_id=user_id,
        model=Claude(id="claude-3-7-sonnet-latest"),
        members=[
            wikipedia_agent,
            website_agent,
        ],
        markdown=True,
        instructions=[
            "æ‚¨æ˜¯ä¸€ä¸ªæŸ¥æ‰¾å…¬å¸ä¿¡æ¯çš„å›¢é˜Ÿ.",
            "é¦–å…ˆåœ¨ç½‘ä¸Šå’Œç»´åŸºç™¾ç§‘æœç´¢å…³äºå…¬å¸çš„ä¿¡æ¯.",
            "å¦‚æœæ‚¨èƒ½æ‰¾åˆ°å…¬å¸çš„ç½‘ç«™ URLï¼Œåˆ™æŠ“å–ä¸»é¡µå’Œå…³äºé¡µé¢.",
        ],
        show_members_responses=True,
    )


    async def run_team_with_events(prompt: str):
        content_started = False
        async for run_output_event in company_info_team.arun(
            prompt,
            stream=True,
            stream_events=True,
        ):
            if run_output_event.event in [
                TeamRunEvent.run_started,
                TeamRunEvent.run_completed,
            ]:
                print(f"\nğŸ¯ å›¢é˜Ÿäº‹ä»¶ï¼š {run_output_event.event}")

            if run_output_event.event in [TeamRunEvent.tool_call_started]:
                print(f"\nğŸ”§ å›¢é˜Ÿå·¥å…·è°ƒç”¨å¼€å§‹ï¼š {run_output_event.tool.tool_name}")
                print(f"   å‚æ•°ï¼š {run_output_event.tool.tool_args}")

            if run_output_event.event in [TeamRunEvent.tool_call_completed]:
                print(f"\nâœ… å›¢é˜Ÿå·¥å…·è°ƒç”¨å®Œæˆï¼š {run_output_event.tool.tool_name}")
                print(f"   ç»“æœï¼š {run_output_event.tool.result}")

            # æˆå‘˜äº‹ä»¶
            if run_output_event.event in [RunEvent.tool_call_started]:
                print(f"\nğŸ¤– æˆå‘˜å·¥å…·è°ƒç”¨å¼€å§‹ï¼š {run_output_event.agent_id}")
                print(f"   å·¥å…·ï¼š {run_output_event.tool.tool_name}")
                print(f"   å‚æ•°ï¼š {run_output_event.tool.tool_args}")

            if run_output_event.event in [RunEvent.tool_call_completed]:
                print(f"\nâœ… æˆå‘˜å·¥å…·è°ƒç”¨å®Œæˆï¼š {run_output_event.agent_id}")
                print(f"   å·¥å…·ï¼š {run_output_event.tool.tool_name}")
                print(f"   ç»“æœï¼š {run_output_event.tool.result[:100]}...")  # ä¸ºå¯è¯»æ€§æˆªæ–­

            if run_output_event.event in [TeamRunEvent.run_content]:
                if not content_started:
                    print("\nğŸ“ å†…å®¹ï¼š")
                    content_started = True
                else:
                    print(run_output_event.content, end="")


    if __name__ == "__main__":
        asyncio.run(
            run_team_with_events(
                "è¯·æ’°å†™ä¸€ä»½å…³äº Agno çš„å®Œæ•´æŠ¥å‘Šï¼Œè¯¥å…¬å¸æ­£åœ¨æ„å»º AI æ™ºèƒ½ä½“åŸºç¡€è®¾æ–½.",
            )
        )
    ```


  </Step>

  <Snippet file="create-venv-step.mdx" />

  <Step title="å®‰è£…ä¾èµ–åº“">
    ```bash
    pip install -U agno anthropic openai ddgs
    ```
  </Step>

  <Step title="è®¾ç½®æ‚¨çš„ API å¯†é’¥">

    <CodeGroup>

    ```bash Mac/Linux
export OPENAI_API_KEY="your_openai_api_key_here"
export ANTHROPIC_API_KEY="your_anthropic_api_key_here"
    ```

    ```bash Windows
$Env:OPENAI_API_KEY="your_openai_api_key_here"
$Env:ANTHROPIC_API_KEY="your_anthropic_api_key_here"
    ```
    </CodeGroup>
  </Step>
  <Step title="è¿è¡Œç¤ºä¾‹">
    <CodeGroup>
    ```bash Mac
    python stream_events.py
    ```
    
    ```bash Windows
    python stream_events.py
    ```
    </CodeGroup>
  </Step>

  <Step title="æŸ¥çœ‹æ‰€æœ‰ç¤ºä¾‹">
  æ¢ç´¢ Agno ä»“åº“ä¸­æ‰€æœ‰å¯ç”¨çš„ç¤ºä¾‹ã€‚ç‚¹å‡»ä¸‹é¢çš„é“¾æ¥åœ¨ GitHub ä¸ŠæŸ¥çœ‹ä»£ç ï¼š

  <Link href="https://github.com/agno-agi/agno/tree/main/cookbook/04_teams/streaming" target="_blank">
    GitHub ä¸Šçš„ Agno ç¤ºä¾‹ä»£ç 
  </Link>
</Step>
</Steps>





