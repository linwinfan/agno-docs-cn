---
title: SQL
description: The SQLTools toolkit enables an Agent to run SQL queries and interact with 数据库s.
sidebarTitle: SQL
keywords: [sql, database]
---

**SQLTools** enable an Agent to run SQL queries and interact with 数据库s.

## Prerequisites

The 以下 example requires the `sqlalchemy` library and a 数据库 URL.

```shell
pip install -U sqlalchemy
```

You will also need to install the appropriate Python adapter for the specific 数据库 you intend to use.

### PostgreSQL

For PostgreSQL, you can install the `psycopg2-binary` adapter:

```shell
pip install -U psycopg2-binary
```

### MySQL

For MySQL, you can install the `mysqlclient` adapter:

```shell
pip install -U mysqlclient
```
The `mysqlclient` adapter may have additional system-level dependencies. Please consult the [official installation guide](https://github.com/PyMySQL/mysqlclient/blob/main/README.md#install) for 更多功能 details.

You will also need a 数据库. The 以下 example uses a Postgres 数据库 running in a Docker container.

```shell
 docker run -d \
  -e POSTGRES_DB=ai \
  -e POSTGRES_USER=ai \
  -e POSTGRES_PASSWORD=ai \
  -e PGDATA=/var/lib/postgresql/data/pgdata \
  -v pgvolume:/var/lib/postgresql/data \
  -p 5532:5432 \
  --name pgvector \
  agno/pgvector:16
```

## Example

The 以下 智能体 will run a SQL query to list all tables in the 数据库 and describe the contents of one of the tables.

```python cookbook/14_tools/sql_tools.py
from agno.agent import Agent
from agno.tools.sql import SQLTools

db_url = "postgresql+psycopg://ai:ai@localhost:5532/ai"

agent = Agent(tools=[SQLTools(db_url=db_url)])
agent.print_response("List the tables in the database. Tell me about contents of one of the tables", markdown=True)
```

## Toolkit 参数

| Parameter                | Type             | Default | Description                                                                 |
| ------------------------ | ---------------- | ------- | --------------------------------------------------------------------------- |
| `db_url`                 | `str`            | `None`  | The URL for connecting to the 数据库.                                     |
| `db_engine`              | `Engine`         | `None`  | The 数据库 engine used for connections and operations.                    |
| `user`                   | `str`            | `None`  | The username for 数据库 authentication.                                   |
| `password`               | `str`            | `None`  | The password for 数据库 authentication.                                   |
| `host`                   | `str`            | `None`  | The hostname or IP address of the 数据库 server.                          |
| `port`                   | `int`            | `None`  | The port number on which the 数据库 server is listening.                  |
| `schema`                 | `str`            | `None`  | The specific schema within the 数据库 to use.                             |
| `dialect`                | `str`            | `None`  | The SQL dialect used by the 数据库.                                       |
| `tables`                 | `Dict[str, Any]` | `None`  | A dictionary mapping table names to their respective meta数据 or structure. |
| `enable_list_tables`     | `bool`           | `True`  | Enables the functionality to list all tables in the 数据库.               |
| `enable_describe_table`  | `bool`           | `True`  | Enables the functionality to describe the schema of a specific table.       |
| `enable_run_sql_query`   | `bool`           | `True`  | Enables the functionality to execute SQL queries directly.                  |
| `all`                    | `bool`           | `False` | Enables all functionality when set to True.                                 |

## Toolkit Functions

| Function         | Description                               |
| ---------------- | ----------------------------------------- |
| `list_tables`    | Lists all tables in the 数据库.         |
| `describe_table` | Describes the schema of a specific table. |
| `run_sql_query`  | Executes SQL queries directly.            |

## 开发者资源

- 查看 [Tools](https://github.com/agno-agi/agno/blob/main/libs/agno/agno/tools/sql.py)
- 查看 [Cookbook](https://github.com/agno-agi/agno/tree/main/cookbook/14_tools/sql_tools.py)
